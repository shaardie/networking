name: router
topology:
  nodes:
    node1:
      kind: linux
      image: networking
      network-mode: none
      binds:
        - ./node1.sh:/run.sh
      cmd: bash /run.sh
    node2:
      kind: linux
      image: networking
      network-mode: none
      binds:
        - ./node2.sh:/run.sh
      cmd: bash /run.sh
    router:
      kind: linux
      image: networking
      network-mode: none
      binds:
        - ./router.sh:/run.sh
      cmd: bash /run.sh
  links:
    - endpoints: ["router:eth0","node1:eth0"]
    - endpoints: ["router:eth1","node2:eth0"]
